# right-moves

## Dependencies

- This is compiled using [Jekyll](https://jekyllrb.com/), in order to create a single static HTML file that contains all slides from webflow without requiring us to use some sort of iframe option. To install that, follow the directions found on its website. 
- The original generated design is from [Webflow](https://webflow.com/). John should have more info about this. 

## Directory Structure

To get an in-depth look at the directory structure of a general [jekyll site go here](https://jekyllrb.com/docs/structure/).

1. 	root directory
	* README.md 
		- You are here.
	* index.html 
		- Contains the _include/ html files that are merged in, with the variables on each entry that will be used within that _include file. Will be merged into _layouts/default.html
	* index_working.html
		- As noted below, the last three includes are currently causing the resulting page to be buggy. I have, therefore created a file that should work without those more major glitches (still has the voucher glitch, etc), here. 
	* include_list.html
		- list of includes that can be added/removed to index.html. Backup include list 
	* _config.yml
		- Contains meta data for jekyll. Read more detailed info [here](https://jekyllrb.com/docs/configuration/).
2.	_layout/
	* The _layouts/ folder is the Jekyll folder that contains layouts for any type of page within a jekyll site. 
	* default.html		
		- All CSS and JS should be linked here. **Any library you want to link should be added or removed from here.**
		- Jekyll merges in the markup from the index.html file here. 
3.	_site/
	* This is the folder that is generated by Jekyll and holds the merged static webpages. You do not need to add or subtract anything from it, as it should automatically update. 
4. _includes/ 
	* All html files taken from assets/ and edited down to be injected into index.html. They have had the metadata and js removed, leaving only the `div class="div-container">` with an added id that corresponds to the name of the particular slide. 
	* In each of these files, any unique `data-ix` animation call, is edited to include the id of the slide. Any selector class defined in that animation call (find this in the webflow.js json), is also edited in the include file to contain a unique class, defined as `t-{{include.id}}` which gets transformed in the final product to something like `t-SLIDENAME`. 
5. js/
	* webflow.js 
		- script from webflow that contains all of the default animations in a json that is after `Webflow.require('ix')`. **This has been edited to include newly added animations for each unique page. See more info below.
	* script.js
		- script that has any of our added custon js. Currently, only a jquery function that adjusts z-index on each slide when it is clicked forward.
	* lib/ 
		- various scripts and libraries you may need. 
6. css/	
	* All of the default styles recieved from webflow.
	* addionalStyles.css
		- custom css that I've added.  
7. assets/
	* The original files recieved from webflow's export that we have moved into includes/, css/, js/, images/, and fonts/.

## Installation

- Build the Jekyll _site/ folder by running jekyll build in your directory. I recommend running `jekyll build --watch`, which automatically rebuilds your _site folder whenever you change something in the repository. More on this on jekyll's website.
- Run the jekyll server by running `jekyll serve`. You can now see your page at `http://localhost:4000/`
- **To view the original functioning design, go to `http://localhost:4000/assets/`**. This is useful for seeing and understanding how the design is meant to look. 

## Completed Work
- I added each slide to the `index.html`, using the following steps. 
- I edited each slide to have a unique ID and unique links to next slides (steps below). 

### adding an _include file to the index.html

- Find the slide in `/assets/SLIDENAME.html`. 
- inside the SLIDENAME.html find and copy the div that cointains the class name `div-container` into a new file. 
- Save to `_includes/SLIDENAME.html`
- give this `div-container` a unique id using the include id, using `id="{{ include.id }}"`. 
- whatever `<a>` or button items exist in the original to send you to the next slide, remove their `href` and instead give them a `class=move-button` and a value of `next="{{ include.next1 }}"` where the `next1` is whatever page id you want it to go to. Note that next1, next2, next3 are the options, as defined in the `{% include SLIDENAME.html id="SLIDENAME" next1="NEXTSLIDE1" next2="NEXTSLIDE2" %}` entry in the `index.html`. 
- See next section for how to edit the animations to make them unique. 

### How I set up each page’s animations with unique animation ids/selectors:
* Find each element with data-ix=“SOMENAME”, 
* Find animation “SOMENAME" in webflow.js
    * Copy that json entry and paste below the original. 
    * Change its slug and name to `“SOMENAME-currentpage”` (<-whatever the include id is for that page).
    * Change selector to to `“SOMECLASS.t-currentpage"` (<-whatever the include id is for that page).
    * In the current _include html page 
        * change the data-ix name to `data-ix=“SOMENAME-{{ include.id }}”` 
        * Find the DOM element with the SOMECLASS class, and add the following class, `t-{{ include.id }}`
* NOTE: some of the elements with data-ix will not be functional. I think this is an artifact of some interaction that John may have abandoned. They are partially listed below. 
* NOTE: data-ix elements and their corresponding selector elements will NOT be the same elements but they will be in the same _include
* NOTE: if there is no selector, just copy JSON entry and append the include id
* NOTE: anything with trigger type=LOAD is changed at the moment. 
